{"workflow":{"category":"Tutorial","name":"Shopping mall data pipeline","creator":"accu_expert01","description":"Demo using shopping mall data","workflowDefinition":{"components":[{"componentType":"batch","type":"batch","setting":{"properties":{"notifyLevel":{"level":"ERROR","messengerId":""},"icosLogging":{"logging":"disable","path":"","object.storage.name":"","fs.s3a.access.key":"","fs.s3a.secret.key":"","fs.s3a.endpoint":""},"workflow":{"name":"Shopping mall data pipeline","appName":"G2645","alias":"","libPath":"/tmp/lib/batch","useSystemLibPath":true},"cluster":{"stackId":"1st2039"}}},"scheduler":{"properties":{"enable":false,"start":null,"end":null,"timezone":"GMT+09:00","frequency":{"inputType":"Basic","frequencyNumber":5,"frequencyUnit":"minutes","frequencyCron":""},"controls":{"timeout":"-1","concurrency":"1","execution":"FIFO","throttle":"12"},"datasets":{"inputEvents":[{"name":"","uriTemplate":"","frequency":"","initialInstance":"","timezone":"","doneFlag":""}],"outputEvents":[{"name":"","uriTemplate":"","frequency":"","initialInstance":"","timezone":"","doneFlag":""}]}}},"jobProperty":{"properties":{"parameters":[{"key":"jobPropertyKey","value":"jobPropertyValue"}]}},"nodes":[{"uuid":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","type":"ETL","group":"hadoopBatch","link":[],"parent":"","child":[],"props":{"appName":"batchApp","argument":[{"arg":""}],"sparkOpts":[{"key":"","value":""}],"master":"","mode":"","forceOK":false}},{"uuid":"KP75-zRHD-F1yA-uz3g-6R7F-SD88-BkkA-ro7v","name":"주문 정보 불러오기","type":"importICOS","group":"hadoopBatch","link":["Z919-YNS5-2Caw-x4oT-CB55-7Ec8-Faq0-13LN"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"file":"s3a://handson-bucket/BP/Shop/orders.csv","format":"csv","delimiter":",","option":[{"key":"header","value":"true"}],"schema":[{"column":"","dataType":""}],"credential":{"object.storage.name":"IBMOSC1146611-6","fs.s3a.access.key":"U4CTvSU2UWuNmx9Nb88q","fs.s3a.secret.key":"nLxRXCCpFClbMtfjX4j5k3IiDIKtrh4Qy667SmZG","fs.s3a.endpoint":"s3.us.cloud-object-storage.appdomain.cloud"},"objectStorageName":"IBMOSC1146611-6","icosBucketName":"handson-bucket"}},{"uuid":"fHMa-9gHv-87wF-64Hh-AQk7-8UsD-3fw6-mWXw","name":"상품 정보 불러오기","type":"importICOS","group":"hadoopBatch","link":["eK70-NjiQ-cqV1-3C89-eR3V-dD0n-z9tv-pD9S"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"file":"s3a://handson-bucket/BP/Shop/goods.csv","format":"csv","delimiter":",","option":[{"key":"header","value":"true"}],"schema":[{"column":"user_id","dataType":"StringType()"},{"column":"goods_id","dataType":"IntegerType()"},{"column":"age","dataType":"IntegerType()"}],"credential":{"object.storage.name":"IBMOSC1146611-6","fs.s3a.access.key":"U4CTvSU2UWuNmx9Nb88q","fs.s3a.secret.key":"nLxRXCCpFClbMtfjX4j5k3IiDIKtrh4Qy667SmZG","fs.s3a.endpoint":"s3.us.cloud-object-storage.appdomain.cloud"},"objectStorageName":"IBMOSC1146611-6","icosBucketName":"handson-bucket"}},{"uuid":"eK70-NjiQ-cqV1-3C89-eR3V-dD0n-z9tv-pD9S","name":"결측값 제거","type":"dropna","group":"hadoopBatch","link":["Z919-YNS5-2Caw-x4oT-CB55-7Ec8-Faq0-13LN"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"expression":{"selectType":"any","value":0},"subset":[{"col":""}]}},{"uuid":"Z919-YNS5-2Caw-x4oT-CB55-7Ec8-Faq0-13LN","name":"데이터 결합","type":"dataJoin","group":"hadoopBatch","link":["kT0r-QMP9-Rvp6-Z3Ks-btpT-3E1I-XviO-Te35"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"col1":"df_eK70.goods_id","col2":"df_KP75.goods_id","how":"inner"}},{"uuid":"kT0r-QMP9-Rvp6-Z3Ks-btpT-3E1I-XviO-Te35","name":"컬럼 선택","type":"select","group":"hadoopBatch","link":["uxva-PXSb-lEMV-4jEO-aphC-sFlR-N4E3-d2Sx"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"col":["df_Z919.user_id_df_eK70","df_Z919.age_df_eK70","df_Z919.category_df_KP75","df_Z919.price_df_KP75","df_Z919.group_df_KP75","df_Z919.style_df_KP75"]}},{"uuid":"uxva-PXSb-lEMV-4jEO-aphC-sFlR-N4E3-d2Sx","name":"컬럼 이름 변경","type":"withColumnRenamed","group":"hadoopBatch","link":["YR0o-nTlJ-Y8Dj-6zj9-j17n-zilA-W6jp-E6qi"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"columns":[{"col1":"df_kT0r.user_id_df_eK70","col2":"user_id"},{"col1":"df_kT0r.age_df_eK70","col2":"age"},{"col1":"df_kT0r.category_df_KP75","col2":"category"},{"col1":"df_kT0r.price_df_KP75","col2":"price"},{"col1":"df_kT0r.group_df_KP75","col2":"group"},{"col1":"df_kT0r.style_df_KP75","col2":"style"}]}},{"uuid":"YR0o-nTlJ-Y8Dj-6zj9-j17n-zilA-W6jp-E6qi","name":"연령대 분류","type":"withColumn","group":"hadoopBatch","link":["C9Xo-7504-Gn4u-gR03-mpDV-u91B-5dc6-FVT7"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"expression":{"selectType":"numeric","targetColumn":"","newColumn":"age_group","col1":"","operator":"/","col2":"","col":"df_uxva.age","value":"12","constantValue":"","valueType":"String"}}},{"uuid":"C9Xo-7504-Gn4u-gR03-mpDV-u91B-5dc6-FVT7","name":"형 변환","type":"cast","group":"hadoopBatch","link":["z2tl-NsHl-0yB7-Hcj2-0CDY-Y9lV-75uA-37e5"],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"subset":[{"col":"df_YR0o.age_group","dataType":"IntegerType()"}]}},{"uuid":"z2tl-NsHl-0yB7-Hcj2-0CDY-Y9lV-75uA-37e5","name":"데이터 저장","type":"exportHDFS","group":"hadoopBatch","link":[],"parent":"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5","child":[],"props":{"path":"hdfs://10.42.240.89:8020/tmp","folder":"bp.shop","format":"csv","mode":"overwrite","header":"true","partitionBy":"","option":[{"key":"","value":""}],"highAvailability":false,"nameservices":"","namenode1":"","namenode2":"","cluster":"1st2039","clusterName":"expert01-231710"}}],"workflow":{"id":"2183","name":"Shopping mall data pipeline","appName":"G2645"},"uuid":"HjCH-q0T9-2M03-3u73-NKoa-vFkX-72Wl-AnGa"}]}},"gid":-1,"workflowJson":"{\"D6M7-qBbQ-78D0-5JPH-L5VP-07K3-tE0c-Bbc5\":\"-300 -200\",\"KP75-zRHD-F1yA-uz3g-6R7F-SD88-BkkA-ro7v\":\"-1793 -1915\",\"fHMa-9gHv-87wF-64Hh-AQk7-8UsD-3fw6-mWXw\":\"-1163 -1915\",\"eK70-NjiQ-cqV1-3C89-eR3V-dD0n-z9tv-pD9S\":\"-1373 -1915\",\"Z919-YNS5-2Caw-x4oT-CB55-7Ec8-Faq0-13LN\":\"-1583 -1915\",\"kT0r-QMP9-Rvp6-Z3Ks-btpT-3E1I-XviO-Te35\":\"-1583 -1795\",\"uxva-PXSb-lEMV-4jEO-aphC-sFlR-N4E3-d2Sx\":\"-1583 -1675\",\"YR0o-nTlJ-Y8Dj-6zj9-j17n-zilA-W6jp-E6qi\":\"-1583 -1555\",\"C9Xo-7504-Gn4u-gR03-mpDV-u91B-5dc6-FVT7\":\"-1583 -1435\",\"z2tl-NsHl-0yB7-Hcj2-0CDY-Y9lV-75uA-37e5\":\"-1163 -1435\"}","specVersion":"1.0"}